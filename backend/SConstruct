"""@file SConstruct
   @author Magdalena Slawinska magg@gatech.edu
   @date 2011-02-22
   @brief Building the network stuff
"""

# LIBS - A list of one or more libraries that will be linked with 
# any executable programs created by this environment.
# LIBPATH - The list of directories that will be searched for libraries.
# CPPPATH  - The $CPPPATH value tells SCons to look in the current 
#   directory ('.') for any files included by C source files (.c or .h files)


# create the construction environment for building those
import os


envBackend = Environment(LIBS    = ['pthread', 'rt', 'dl', 'cudart'],
				  LIBPATH = ['/opt/cuda/lib64'],
				  CPPPATH = ['.',
				  			 '../remote',
				  			 '../include',  
				  			 '../interposer', 
				  			 '../backend',
				  			 '/opt/cuda/include'],
                  CCFLAGS = '-g -Wall -Wextra')
			 
envBackend.Program('backend', [
			'backend.c',
			'../interposer/libciutils.c',
			'../remote/connection.c',
			'../remote/remote_packet.c',
			'../remote/remote_api_wrapper.c',
			'local_api_wrapper.c'
			])
						 
			  					  
 